namespace commands ;

private import Testing ;

class RowBasedCommand_ViewTests {
  
  private sut : RowBasedCommand_ViewModel  ;
  
  private testEnvironment : RowBasedCommand_ViewModelTestEnvironment  ;
  
  
  protected BeforeTest (  ) {
    this.testEnvironment = new RowBasedCommand_ViewModelTestEnvironmentImpl (  );

    this.testEnvironment.Init (  );

  }
  
  /** 
  Scenario: ListView RowBased Commands
    given: 
     when: check Checkboxes at 0 and uncheck Checkboxes at 1
     then: MyFlags has 2 rows */

  public ListView_RowBased_Commands_given_when_check_Checkboxes_at_0_and_uncheck_Checkboxes_at_1_then_MyFlags_has_2_rows (  ) {
    this.BuildSut (  );

    this.when_check_Checkboxes_at_0 (  );

    this.when_uncheck_Checkboxes_at_1 (  );

    this.then_MyFlags_has_2_rows (  );

  }
  /** 
  Scenario: TableView RowBased Commands
    given: 
     when: select entry 'MyText1' in FreeTextComboBoxes at 0 and select entry 'MyText2' in FreeTextComboBoxes at 1 and select entry 'B' in EntryComboBoxes at 0 and select entry 'D' in EntryComboBoxes at 1
     then: MyComboBoxes has 2 rows */

  public TableView_RowBased_Commands_given_when_select_entry_MyText1_in_FreeTextComboBoxes_at_0_and_select_entry_MyText2_in_FreeTextComboBoxes_at_1_and_select_entry_B_in_EntryComboBoxes_at_0_and_select_entry_D_in_EntryComboBoxes_at_1_then_MyComboBoxes_has_2_rows (  ) {
    this.BuildSut (  );

    this.when_select_entry_MyText1_in_FreeTextComboBoxes_at_0 (  );

    this.when_select_entry_MyText2_in_FreeTextComboBoxes_at_1 (  );

    this.when_select_entry_B_in_EntryComboBoxes_at_0 (  );

    this.when_select_entry_D_in_EntryComboBoxes_at_1 (  );

    this.then_MyComboBoxes_has_2_rows (  );

  }
  /** 
  Scenario: TreeView RowBased Commands
    given: 
     when: fill 'A' in  TextBoxes at 0 and fill 'B' in  TextBoxes at 1 and click Buttons at 0
     then: MyStandardControls has 2 rows */

  public TreeView_RowBased_Commands_given_when_fill_A_in_TextBoxes_at_0_and_fill_B_in_TextBoxes_at_1_and_click_Buttons_at_0_then_MyStandardControls_has_2_rows (  ) {
    this.BuildSut (  );

    this.when_fill_A_in_TextBoxes_at_0 (  );

    this.when_fill_B_in_TextBoxes_at_1 (  );

    this.when_click_Buttons_at_0 (  );

    this.then_MyStandardControls_has_2_rows (  );

  }
  
  
  protected BuildSut (  ) {
    this.sut = this.testEnvironment.BuildSut (  );

  }
  
  
  // Given Helper Definitions

  
  // When Helper Definitions

  
  public when_check_Checkboxes_at_0 (  ) {
    this.sut.checkboxesCheckBoxChecked ( 0, true );

  }
  
  public when_uncheck_Checkboxes_at_1 (  ) {
    this.sut.checkboxesCheckBoxChecked ( 1, false );

  }
  
  public when_select_entry_MyText1_in_FreeTextComboBoxes_at_0 (  ) {
    this.sut.freeTextComboBoxesComboBoxEntrySelected ( 0, "MyText1" );

  }
  
  public when_select_entry_MyText2_in_FreeTextComboBoxes_at_1 (  ) {
    this.sut.freeTextComboBoxesComboBoxEntrySelected ( 1, "MyText2" );

  }
  
  public when_select_entry_B_in_EntryComboBoxes_at_0 (  ) {
    this.sut.entryComboBoxesComboBoxEntrySelected ( 0, "B" );

  }
  
  public when_select_entry_D_in_EntryComboBoxes_at_1 (  ) {
    this.sut.entryComboBoxesComboBoxEntrySelected ( 1, "D" );

  }
  
  public when_fill_A_in_TextBoxes_at_0 (  ) {
    this.sut.textBoxesTextBoxTextFilled ( 0, "A" );

  }
  
  public when_fill_B_in_TextBoxes_at_1 (  ) {
    this.sut.textBoxesTextBoxTextFilled ( 1, "B" );

  }
  
  public when_click_Buttons_at_0 (  ) {
    this.sut.buttonsButtonClicked ( 0 );

  }
  
  // Then Helper Definitions

  
  public then_MyFlags_has_2_rows (  ) {
    let actualRows: RowBasedCommand_ViewModelMyFlagsRow [] = this.sut.getMyFlagsListRows (  );

    AssertEqualWithMessage ( 2, actualRows->size (  ), "Expected that list view MyFlags has 2 rows, but has " + IntegerFunctions:: ToString ( actualRows->size (  ) ) );

    {
      let row0: RowBasedCommand_ViewModelMyFlagsRow = actualRows[ 1 ];

      AssertEqualWithMessage ( 0, row0.getRowIndex (  ), "Expected that list view MyFlags row at index 0 has rowhandle <0>, but was <" + IntegerFunctions:: ToString ( row0.getRowIndex (  ) ) + ">" );

      AssertTrueWithMessage ( row0.getIsCheckboxesCheckBoxChecked (  ), "Expected that checkbox Checkboxes is checked, but was <" + ( row0.getIsCheckboxesCheckBoxChecked (  ) ? "checked" : "unchecked" ) + ">" );

    }

    {
      let row1: RowBasedCommand_ViewModelMyFlagsRow = actualRows[ 2 ];

      AssertEqualWithMessage ( 1, row1.getRowIndex (  ), "Expected that list view MyFlags row at index 1 has rowhandle <1>, but was <" + IntegerFunctions:: ToString ( row1.getRowIndex (  ) ) + ">" );

      AssertFalseWithMessage ( row1.getIsCheckboxesCheckBoxChecked (  ), "Expected that checkbox Checkboxes is unchecked, but was <" + ( row1.getIsCheckboxesCheckBoxChecked (  ) ? "checked" : "unchecked" ) + ">" );

    }

  }
  
  public then_MyComboBoxes_has_2_rows (  ) {
    let actualRows: RowBasedCommand_ViewModelMyComboBoxesRow [] = this.sut.getMyComboBoxesTableRows (  );

    AssertEqualWithMessage ( 2, actualRows->size (  ), "Expected that table view MyComboBoxes has 2 rows, but has " + IntegerFunctions:: ToString ( actualRows->size (  ) ) );

    {
      let row0: RowBasedCommand_ViewModelMyComboBoxesRow = actualRows[ 1 ];

      AssertEqualWithMessage ( 0, row0.getRowIndex (  ), "Expected that table view MyComboBoxes row at index 0 has rowhandle <0>, but was <" + IntegerFunctions:: ToString ( row0.getRowIndex (  ) ) + ">" );

      let actualRow0FreeTextComboBoxesEntries: String [] = row0.getFreeTextComboBoxesComboBoxEntries (  );

      AssertEqualWithMessage ( 0, actualRow0FreeTextComboBoxesEntries->size (  ), "Expected that combobox FreeTextComboBoxes has 0 entries, but has " + IntegerFunctions:: ToString ( actualRow0FreeTextComboBoxesEntries->size (  ) ) );

      AssertEqualWithMessage ( "", row0.getFreeTextComboBoxesComboBoxSelectedEntry (  ), "Expected that combobox FreeTextComboBoxes has " + "no selection" + ", but was <" + row0.getFreeTextComboBoxesComboBoxSelectedEntry (  ) + ">" );

      AssertEqualWithMessage ( "MyText1", row0.getFreeTextComboBoxesComboBoxText (  ), "Expected that combobox FreeTextComboBoxes has text <" + "MyText1" + ">, but was <" + row0.getFreeTextComboBoxesComboBoxText (  ) + ">" );

      let actualRow0EntryComboBoxesEntries: String [] = row0.getEntryComboBoxesComboBoxEntries (  );

      AssertEqualWithMessage ( 3, actualRow0EntryComboBoxesEntries->size (  ), "Expected that combobox EntryComboBoxes has 3 entries, but has " + IntegerFunctions:: ToString ( actualRow0EntryComboBoxesEntries->size (  ) ) );

      AssertEqualWithMessage ( "A", actualRow0EntryComboBoxesEntries[ 1 ] ?? "", "Expected that combobox EntryComboBoxes has entry at index 0 matching <" + "A" + ">, but was <" + actualRow0EntryComboBoxesEntries[ 1 ] ?? "" + ">" );

      AssertEqualWithMessage ( "B", actualRow0EntryComboBoxesEntries[ 2 ] ?? "", "Expected that combobox EntryComboBoxes has entry at index 1 matching <" + "B" + ">, but was <" + actualRow0EntryComboBoxesEntries[ 2 ] ?? "" + ">" );

      AssertEqualWithMessage ( "C", actualRow0EntryComboBoxesEntries[ 3 ] ?? "", "Expected that combobox EntryComboBoxes has entry at index 2 matching <" + "C" + ">, but was <" + actualRow0EntryComboBoxesEntries[ 3 ] ?? "" + ">" );

      AssertEqualWithMessage ( "", row0.getEntryComboBoxesComboBoxSelectedEntry (  ), "Expected that combobox EntryComboBoxes has " + "no selection" + ", but was <" + row0.getEntryComboBoxesComboBoxSelectedEntry (  ) + ">" );

    }

    {
      let row1: RowBasedCommand_ViewModelMyComboBoxesRow = actualRows[ 2 ];

      AssertEqualWithMessage ( 1, row1.getRowIndex (  ), "Expected that table view MyComboBoxes row at index 1 has rowhandle <1>, but was <" + IntegerFunctions:: ToString ( row1.getRowIndex (  ) ) + ">" );

      let actualRow1FreeTextComboBoxesEntries: String [] = row1.getFreeTextComboBoxesComboBoxEntries (  );

      AssertEqualWithMessage ( 0, actualRow1FreeTextComboBoxesEntries->size (  ), "Expected that combobox FreeTextComboBoxes has 0 entries, but has " + IntegerFunctions:: ToString ( actualRow1FreeTextComboBoxesEntries->size (  ) ) );

      AssertEqualWithMessage ( "", row1.getFreeTextComboBoxesComboBoxSelectedEntry (  ), "Expected that combobox FreeTextComboBoxes has " + "no selection" + ", but was <" + row1.getFreeTextComboBoxesComboBoxSelectedEntry (  ) + ">" );

      AssertEqualWithMessage ( "MyText2", row1.getFreeTextComboBoxesComboBoxText (  ), "Expected that combobox FreeTextComboBoxes has text <" + "MyText2" + ">, but was <" + row1.getFreeTextComboBoxesComboBoxText (  ) + ">" );

      let actualRow1EntryComboBoxesEntries: String [] = row1.getEntryComboBoxesComboBoxEntries (  );

      AssertEqualWithMessage ( 3, actualRow1EntryComboBoxesEntries->size (  ), "Expected that combobox EntryComboBoxes has 3 entries, but has " + IntegerFunctions:: ToString ( actualRow1EntryComboBoxesEntries->size (  ) ) );

      AssertEqualWithMessage ( "D", actualRow1EntryComboBoxesEntries[ 1 ] ?? "", "Expected that combobox EntryComboBoxes has entry at index 0 matching <" + "D" + ">, but was <" + actualRow1EntryComboBoxesEntries[ 1 ] ?? "" + ">" );

      AssertEqualWithMessage ( "E", actualRow1EntryComboBoxesEntries[ 2 ] ?? "", "Expected that combobox EntryComboBoxes has entry at index 1 matching <" + "E" + ">, but was <" + actualRow1EntryComboBoxesEntries[ 2 ] ?? "" + ">" );

      AssertEqualWithMessage ( "F", actualRow1EntryComboBoxesEntries[ 3 ] ?? "", "Expected that combobox EntryComboBoxes has entry at index 2 matching <" + "F" + ">, but was <" + actualRow1EntryComboBoxesEntries[ 3 ] ?? "" + ">" );

      AssertEqualWithMessage ( "", row1.getEntryComboBoxesComboBoxSelectedEntry (  ), "Expected that combobox EntryComboBoxes has " + "no selection" + ", but was <" + row1.getEntryComboBoxesComboBoxSelectedEntry (  ) + ">" );

    }

  }
  
  public then_MyStandardControls_has_2_rows (  ) {
    let actualRows: RowBasedCommand_ViewModelMyStandardControlsRow [] = this.sut.getMyStandardControlsTreeRows (  );

    AssertEqualWithMessage ( 2, actualRows->size (  ), "Expected that tree view MyStandardControls has 2 rows, but has " + IntegerFunctions:: ToString ( actualRows->size (  ) ) );

    {
      let row0: RowBasedCommand_ViewModelMyStandardControlsRow = actualRows[ 1 ];

      AssertEqualWithMessage ( 0, row0.getRowIndex (  ), "Expected that tree view MyStandardControls row at index 0 has rowhandle <0>, but was <" + IntegerFunctions:: ToString ( row0.getRowIndex (  ) ) + ">" );

      AssertEqualWithMessage ( 0, row0.getRowDepth (  ), "Expected that tree view MyStandardControls row at index 0 has parent rowhandle <" + IntegerFunctions:: ToString ( 0 ) + ">, but was <" + IntegerFunctions:: ToString ( row0.getRowDepth (  ) ) + ">" );

      AssertEqualWithMessage ( "A", row0.getTextBoxesTextBoxText (  ), "Expected that textbox TextBoxes has text <" + "A" + ">, but was <" + row0.getTextBoxesTextBoxText (  ) + ">" );

    }

    {
      let row1: RowBasedCommand_ViewModelMyStandardControlsRow = actualRows[ 2 ];

      AssertEqualWithMessage ( 1, row1.getRowIndex (  ), "Expected that tree view MyStandardControls row at index 1 has rowhandle <1>, but was <" + IntegerFunctions:: ToString ( row1.getRowIndex (  ) ) + ">" );

      AssertEqualWithMessage ( 0, row1.getRowDepth (  ), "Expected that tree view MyStandardControls row at index 1 has parent rowhandle <" + IntegerFunctions:: ToString ( 0 ) + ">, but was <" + IntegerFunctions:: ToString ( row1.getRowDepth (  ) ) + ">" );

      AssertEqualWithMessage ( "B", row1.getTextBoxesTextBoxText (  ), "Expected that textbox TextBoxes has text <" + "B" + ">, but was <" + row1.getTextBoxesTextBoxText (  ) + ">" );

    }

  }
}
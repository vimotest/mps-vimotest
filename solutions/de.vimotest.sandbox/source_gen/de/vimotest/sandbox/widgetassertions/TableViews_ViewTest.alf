namespace widgetassertions ;

private import Testing ;

class TableViews_ViewTest {
  
  private sut : TableViews_ViewModel  ;
  
  private testEnvironment : TableViews_ViewModelTestEnvironment  ;
  
  
  protected BeforeTest (  ) {
    this.testEnvironment = new TableViews_ViewModelTestEnvironmentImpl (  );

    this.testEnvironment.Init (  );

  }
  
  /** 
  Scenario: My Scenario
    given: empty context
     when: 
     then: MyElements has 2 rows and selected row index 1 and is visible and is enabled and Description is not visible and MyStringRowHandles has 2 rows and selected row handle ROW1 */

  public My_Scenario_given_empty_context_when_then_MyElements_has_2_rows_and_selected_row_index_1_and_is_visible_and_is_enabled_and_Description_is_not_visible_and_MyStringRowHandles_has_2_rows_and_selected_row_handle_ROW1 (  ) {
    this.given_empty_context (  );

    this.BuildSut (  );

    this.then_MyElements_has_2_rows_and_selected_row_index_1_and_is_visible_and_is_enabled_and_Description_is_not_visible (  );

    this.then_MyStringRowHandles_has_2_rows_and_selected_row_handle_ROW1 (  );

  }
  /** 
  Scenario: Table Ignore Columns
    given: empty context
     when: 
     then: MyElements has 2 rows */

  public Table_Ignore_Columns_given_empty_context_when_then_MyElements_has_2_rows (  ) {
    this.given_empty_context (  );

    this.BuildSut (  );

    this.then_MyElements_has_2_rows (  );

  }
  /** 
  Scenario: FirstLabelColumn row handle
    given: 
     when: 
     then: FirstColumnRowHandle has 2 rows and selected row handle MyRow1 */

  public FirstLabelColumn_row_handle_given_when_then_FirstColumnRowHandle_has_2_rows_and_selected_row_handle_MyRow1 (  ) {
    this.BuildSut (  );

    this.then_FirstColumnRowHandle_has_2_rows_and_selected_row_handle_MyRow1 (  );

  }
  
  
  protected BuildSut (  ) {
    this.sut = this.testEnvironment.BuildSut (  );

  }
  
  
  // Given Helper Definitions

  
  public given_empty_context (  ) {    
  }
  
  
  // Then Helper Definitions

  
  public then_MyElements_has_2_rows_and_selected_row_index_1_and_is_visible_and_is_enabled_and_Description_is_not_visible (  ) {
    let actualRows: TableViews_ViewModelMyElementsRow [] = this.sut.getMyElementsTableRows (  );

    AssertEqualWithMessage ( 2, actualRows->size (  ), "Expected that table view MyElements has 2 rows, but has " + IntegerFunctions:: ToString ( actualRows->size (  ) ) );

    {
      let row0: TableViews_ViewModelMyElementsRow = actualRows[ 1 ];

      AssertEqualWithMessage ( 0, row0.getRowIndex (  ), "Expected that table view MyElements row at index 0 has rowhandle <0>, but was <" + IntegerFunctions:: ToString ( row0.getRowIndex (  ) ) + ">" );

      AssertTrueWithMessage ( row0.getIsIncludeCheckBoxChecked (  ), "Expected that checkbox Include is checked, but was <" + ( row0.getIsIncludeCheckBoxChecked (  ) ? "checked" : "unchecked" ) + ">" );

      AssertEqualWithMessage ( "A", row0.getNameLabelText (  ), "Expected that label Name has text <" + "A" + ">, but was <" + row0.getNameLabelText (  ) + ">" );

      AssertEqualWithMessage ( "B", row0.getDescriptionLabelText (  ), "Expected that label Description has text <" + "B" + ">, but was <" + row0.getDescriptionLabelText (  ) + ">" );

      AssertEqualWithMessage ( "image_info", row0.getInfoIconImageName (  ), "Expected that image InfoIcon has " + "image <image_info>" + ", but was <" + row0.getInfoIconImageName (  ) + ">" );

    }

    {
      let row1: TableViews_ViewModelMyElementsRow = actualRows[ 2 ];

      AssertEqualWithMessage ( 1, row1.getRowIndex (  ), "Expected that table view MyElements row at index 1 has rowhandle <1>, but was <" + IntegerFunctions:: ToString ( row1.getRowIndex (  ) ) + ">" );

      AssertFalseWithMessage ( row1.getIsIncludeCheckBoxChecked (  ), "Expected that checkbox Include is unchecked, but was <" + ( row1.getIsIncludeCheckBoxChecked (  ) ? "checked" : "unchecked" ) + ">" );

      AssertEqualWithMessage ( "C", row1.getNameLabelText (  ), "Expected that label Name has text <" + "C" + ">, but was <" + row1.getNameLabelText (  ) + ">" );

      AssertEqualWithMessage ( "D", row1.getDescriptionLabelText (  ), "Expected that label Description has text <" + "D" + ">, but was <" + row1.getDescriptionLabelText (  ) + ">" );

      AssertEqualWithMessage ( "image_star", row1.getInfoIconImageName (  ), "Expected that image InfoIcon has " + "image <image_star>" + ", but was <" + row1.getInfoIconImageName (  ) + ">" );

    }

    AssertEqualWithMessage ( 1, this.sut.getMyElementsTableSelectedRow (  ), "Expected that table view MyElements has selected row with row handle <" + IntegerFunctions:: ToString ( 1 ) + ">, but was <" + IntegerFunctions:: ToString ( this.sut.getMyElementsTableSelectedRow (  ) ) + ">" );

    AssertTrueWithMessage ( this.sut.getIsMyElementsTableVisible (  ), "Expected table view MyElements is visible, but it was hidden" );

    AssertTrueWithMessage ( this.sut.getIsMyElementsTableEnabled (  ), "Expected table view MyElements is enabled, but it was disabled" );

    AssertFalseWithMessage ( this.sut.getIsMyElementsTableDescriptionColumnVisible (  ), "Expected table column Description is hidden, but it was visible" );

  }
  
  public then_MyStringRowHandles_has_2_rows_and_selected_row_handle_ROW1 (  ) {
    let actualRows: TableViews_ViewModelMyStringRowHandlesRow [] = this.sut.getMyStringRowHandlesTableRows (  );

    AssertEqualWithMessage ( 2, actualRows->size (  ), "Expected that table view MyStringRowHandles has 2 rows, but has " + IntegerFunctions:: ToString ( actualRows->size (  ) ) );

    {
      let row0: TableViews_ViewModelMyStringRowHandlesRow = actualRows[ 1 ];

      AssertEqualWithMessage ( "ROW0", row0.getRowHandle (  ), "Expected that table view MyStringRowHandles row at index 0 has rowhandle <ROW0>, but was <" + row0.getRowHandle (  ) + ">" );

      AssertEqualWithMessage ( "A", row0.getValuesLabelText (  ), "Expected that label Values has text <" + "A" + ">, but was <" + row0.getValuesLabelText (  ) + ">" );

    }

    {
      let row1: TableViews_ViewModelMyStringRowHandlesRow = actualRows[ 2 ];

      AssertEqualWithMessage ( "ROW1", row1.getRowHandle (  ), "Expected that table view MyStringRowHandles row at index 1 has rowhandle <ROW1>, but was <" + row1.getRowHandle (  ) + ">" );

      AssertEqualWithMessage ( "B", row1.getValuesLabelText (  ), "Expected that label Values has text <" + "B" + ">, but was <" + row1.getValuesLabelText (  ) + ">" );

    }

    AssertEqualWithMessage ( "ROW1", this.sut.getMyStringRowHandlesTableSelectedRow (  ), "Expected that table view MyStringRowHandles has selected row with row handle <" + "ROW1" + ">, but was <" + this.sut.getMyStringRowHandlesTableSelectedRow (  ) + ">" );

  }
  
  public then_MyElements_has_2_rows (  ) {
    let actualRows: TableViews_ViewModelMyElementsRow [] = this.sut.getMyElementsTableRows (  );

    AssertEqualWithMessage ( 2, actualRows->size (  ), "Expected that table view MyElements has 2 rows, but has " + IntegerFunctions:: ToString ( actualRows->size (  ) ) );

    {
      let row0: TableViews_ViewModelMyElementsRow = actualRows[ 1 ];

      AssertEqualWithMessage ( 0, row0.getRowIndex (  ), "Expected that table view MyElements row at index 0 has rowhandle <0>, but was <" + IntegerFunctions:: ToString ( row0.getRowIndex (  ) ) + ">" );

      AssertEqualWithMessage ( "A", row0.getNameLabelText (  ), "Expected that label Name has text <" + "A" + ">, but was <" + row0.getNameLabelText (  ) + ">" );

    }

    {
      let row1: TableViews_ViewModelMyElementsRow = actualRows[ 2 ];

      AssertEqualWithMessage ( 1, row1.getRowIndex (  ), "Expected that table view MyElements row at index 1 has rowhandle <1>, but was <" + IntegerFunctions:: ToString ( row1.getRowIndex (  ) ) + ">" );

      AssertEqualWithMessage ( "image_star", row1.getInfoIconImageName (  ), "Expected that image InfoIcon has " + "image <image_star>" + ", but was <" + row1.getInfoIconImageName (  ) + ">" );

    }

  }
  
  public then_FirstColumnRowHandle_has_2_rows_and_selected_row_handle_MyRow1 (  ) {
    let actualRows: TableViews_ViewModelFirstColumnRowHandleRow [] = this.sut.getFirstColumnRowHandleTableRows (  );

    AssertEqualWithMessage ( 2, actualRows->size (  ), "Expected that table view FirstColumnRowHandle has 2 rows, but has " + IntegerFunctions:: ToString ( actualRows->size (  ) ) );

    {
      let row0: TableViews_ViewModelFirstColumnRowHandleRow = actualRows[ 1 ];

      AssertEqualWithMessage ( "MyRow0", row0.getNameLabelText (  ), "Expected that label Name has text <" + "MyRow0" + ">, but was <" + row0.getNameLabelText (  ) + ">" );

    }

    {
      let row1: TableViews_ViewModelFirstColumnRowHandleRow = actualRows[ 2 ];

      AssertEqualWithMessage ( "MyRow1", row1.getNameLabelText (  ), "Expected that label Name has text <" + "MyRow1" + ">, but was <" + row1.getNameLabelText (  ) + ">" );

    }

    AssertEqualWithMessage ( "MyRow1", this.sut.getFirstColumnRowHandleTableSelectedRow (  ), "Expected that table view FirstColumnRowHandle has selected row with row handle <" + "MyRow1" + ">, but was <" + this.sut.getFirstColumnRowHandleTableSelectedRow (  ) + ">" );

  }
}
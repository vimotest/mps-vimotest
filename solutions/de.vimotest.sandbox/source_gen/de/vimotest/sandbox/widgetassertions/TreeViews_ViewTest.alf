namespace widgetassertions ;

private import Testing ;

class TreeViews_ViewTest {
  
  private sut : TreeViews_ViewModel  ;
  
  private testEnvironment : TreeViews_ViewModelTestEnvironment  ;
  
  
  protected BeforeTest (  ) {
    this.testEnvironment = new TreeViews_ViewModelTestEnvironmentImpl (  );

    this.testEnvironment.Init (  );

  }
  
  /** 
  Scenario: My Scenario
    given: empty context
     when: 
     then: MyTreeViewElements has 2 rows and selected row index 1 and is enabled and is visible and Description is not visible and MyStringRowHandles has 2 rows and selected row handle ROW1 and MyParentIndexRowHandles has 4 rows and MyParentStringRowHandles has 4 rows */

  public My_Scenario_given_empty_context_when_then_MyTreeViewElements_has_2_rows_and_selected_row_index_1_and_is_enabled_and_is_visible_and_Description_is_not_visible_and_MyStringRowHandles_has_2_rows_and_selected_row_handle_ROW1_and_MyParentIndexRowHandles_has_4_rows_and_MyParentStringRowHandles_has_4_rows (  ) {
    this.given_empty_context (  );

    this.BuildSut (  );

    this.then_MyTreeViewElements_has_2_rows_and_selected_row_index_1_and_is_enabled_and_is_visible_and_Description_is_not_visible (  );

    this.then_MyStringRowHandles_has_2_rows_and_selected_row_handle_ROW1 (  );

    this.then_MyParentIndexRowHandles_has_4_rows (  );

    this.then_MyParentStringRowHandles_has_4_rows (  );

  }
  /** 
  Scenario: TreeView Ignore Column
    given: empty context
     when: 
     then: MyTreeViewElements has 2 rows */

  public TreeView_Ignore_Column_given_empty_context_when_then_MyTreeViewElements_has_2_rows (  ) {
    this.given_empty_context (  );

    this.BuildSut (  );

    this.then_MyTreeViewElements_has_2_rows (  );

  }
  
  
  protected BuildSut (  ) {
    this.sut = this.testEnvironment.BuildSut (  );

  }
  
  
  // Given Helper Definitions

  
  public given_empty_context (  ) {    
  }
  
  
  // Then Helper Definitions

  
  public then_MyTreeViewElements_has_2_rows_and_selected_row_index_1_and_is_enabled_and_is_visible_and_Description_is_not_visible (  ) {
    let actualRows: TreeViews_ViewModelMyTreeViewElementsRow [] = this.sut.getMyTreeViewElementsTreeRows (  );

    AssertEqualWithMessage ( 2, actualRows->size (  ), "Expected that tree view MyTreeViewElements has 2 rows, but has " + IntegerFunctions:: ToString ( actualRows->size (  ) ) );

    {
      let row0: TreeViews_ViewModelMyTreeViewElementsRow = actualRows[ 1 ];

      AssertEqualWithMessage ( 0, row0.getRowIndex (  ), "Expected that tree view MyTreeViewElements row at index 0 has rowhandle <0>, but was <" + IntegerFunctions:: ToString ( row0.getRowIndex (  ) ) + ">" );

      AssertEqualWithMessage ( 0, row0.getRowDepth (  ), "Expected that tree view MyTreeViewElements row at index 0 has parent rowhandle <" + IntegerFunctions:: ToString ( 0 ) + ">, but was <" + IntegerFunctions:: ToString ( row0.getRowDepth (  ) ) + ">" );

      AssertTrueWithMessage ( row0.getIsIncludeCheckBoxChecked (  ), "Expected that checkbox Include is checked, but was <" + ( row0.getIsIncludeCheckBoxChecked (  ) ? "checked" : "unchecked" ) + ">" );

      AssertEqualWithMessage ( "A", row0.getNameLabelText (  ), "Expected that label Name has text <" + "A" + ">, but was <" + row0.getNameLabelText (  ) + ">" );

      AssertEqualWithMessage ( "B", row0.getDescriptionLabelText (  ), "Expected that label Description has text <" + "B" + ">, but was <" + row0.getDescriptionLabelText (  ) + ">" );

      AssertEqualWithMessage ( "image_triangle", row0.getInfoImageName (  ), "Expected that image Info has " + "image <image_triangle>" + ", but was <" + row0.getInfoImageName (  ) + ">" );

    }

    {
      let row1: TreeViews_ViewModelMyTreeViewElementsRow = actualRows[ 2 ];

      AssertEqualWithMessage ( 1, row1.getRowIndex (  ), "Expected that tree view MyTreeViewElements row at index 1 has rowhandle <1>, but was <" + IntegerFunctions:: ToString ( row1.getRowIndex (  ) ) + ">" );

      AssertEqualWithMessage ( 1, row1.getRowDepth (  ), "Expected that tree view MyTreeViewElements row at index 1 has parent rowhandle <" + IntegerFunctions:: ToString ( 1 ) + ">, but was <" + IntegerFunctions:: ToString ( row1.getRowDepth (  ) ) + ">" );

      AssertFalseWithMessage ( row1.getIsIncludeCheckBoxChecked (  ), "Expected that checkbox Include is unchecked, but was <" + ( row1.getIsIncludeCheckBoxChecked (  ) ? "checked" : "unchecked" ) + ">" );

      AssertEqualWithMessage ( "C", row1.getNameLabelText (  ), "Expected that label Name has text <" + "C" + ">, but was <" + row1.getNameLabelText (  ) + ">" );

      AssertEqualWithMessage ( "D", row1.getDescriptionLabelText (  ), "Expected that label Description has text <" + "D" + ">, but was <" + row1.getDescriptionLabelText (  ) + ">" );

      AssertEqualWithMessage ( "image_circle", row1.getInfoImageName (  ), "Expected that image Info has " + "image <image_circle>" + ", but was <" + row1.getInfoImageName (  ) + ">" );

    }

    AssertEqualWithMessage ( 1, this.sut.getMyTreeViewElementsTreeSelectedRow (  ), "Expected that tree view MyTreeViewElements has selected row with row handle <" + IntegerFunctions:: ToString ( 1 ) + ">, but was <" + IntegerFunctions:: ToString ( this.sut.getMyTreeViewElementsTreeSelectedRow (  ) ) + ">" );

    AssertTrueWithMessage ( this.sut.getIsMyTreeViewElementsTreeEnabled (  ), "Expected tree view MyTreeViewElements is enabled, but it was disabled" );

    AssertTrueWithMessage ( this.sut.getIsMyTreeViewElementsTreeVisible (  ), "Expected tree view MyTreeViewElements is visible, but it was hidden" );

    AssertFalseWithMessage ( this.sut.getIsMyTreeViewElementsTreeDescriptionColumnVisible (  ), "Expected tree column Description is hidden, but it was visible" );

  }
  
  public then_MyStringRowHandles_has_2_rows_and_selected_row_handle_ROW1 (  ) {
    let actualRows: TreeViews_ViewModelMyStringRowHandlesRow [] = this.sut.getMyStringRowHandlesTreeRows (  );

    AssertEqualWithMessage ( 2, actualRows->size (  ), "Expected that tree view MyStringRowHandles has 2 rows, but has " + IntegerFunctions:: ToString ( actualRows->size (  ) ) );

    {
      let row0: TreeViews_ViewModelMyStringRowHandlesRow = actualRows[ 1 ];

      AssertEqualWithMessage ( "ROW0", row0.getRowHandle (  ), "Expected that tree view MyStringRowHandles row at index 0 has rowhandle <ROW0>, but was <" + row0.getRowHandle (  ) + ">" );

      AssertEqualWithMessage ( 0, row0.getRowDepth (  ), "Expected that tree view MyStringRowHandles row at index 0 has parent rowhandle <" + IntegerFunctions:: ToString ( 0 ) + ">, but was <" + IntegerFunctions:: ToString ( row0.getRowDepth (  ) ) + ">" );

      AssertEqualWithMessage ( "A", row0.getValuesLabelText (  ), "Expected that label Values has text <" + "A" + ">, but was <" + row0.getValuesLabelText (  ) + ">" );

    }

    {
      let row1: TreeViews_ViewModelMyStringRowHandlesRow = actualRows[ 2 ];

      AssertEqualWithMessage ( "ROW1", row1.getRowHandle (  ), "Expected that tree view MyStringRowHandles row at index 1 has rowhandle <ROW1>, but was <" + row1.getRowHandle (  ) + ">" );

      AssertEqualWithMessage ( 0, row1.getRowDepth (  ), "Expected that tree view MyStringRowHandles row at index 1 has parent rowhandle <" + IntegerFunctions:: ToString ( 0 ) + ">, but was <" + IntegerFunctions:: ToString ( row1.getRowDepth (  ) ) + ">" );

      AssertEqualWithMessage ( "B", row1.getValuesLabelText (  ), "Expected that label Values has text <" + "B" + ">, but was <" + row1.getValuesLabelText (  ) + ">" );

    }

    AssertEqualWithMessage ( "ROW1", this.sut.getMyStringRowHandlesTreeSelectedRow (  ), "Expected that tree view MyStringRowHandles has selected row with row handle <" + "ROW1" + ">, but was <" + this.sut.getMyStringRowHandlesTreeSelectedRow (  ) + ">" );

  }
  
  public then_MyParentIndexRowHandles_has_4_rows (  ) {
    let actualRows: TreeViews_ViewModelMyParentIndexRowHandlesRow [] = this.sut.getMyParentIndexRowHandlesTreeRows (  );

    AssertEqualWithMessage ( 4, actualRows->size (  ), "Expected that tree view MyParentIndexRowHandles has 4 rows, but has " + IntegerFunctions:: ToString ( actualRows->size (  ) ) );

    {
      let row0: TreeViews_ViewModelMyParentIndexRowHandlesRow = actualRows[ 1 ];

      AssertEqualWithMessage ( 0, row0.getRowIndex (  ), "Expected that tree view MyParentIndexRowHandles row at index 0 has rowhandle <0>, but was <" + IntegerFunctions:: ToString ( row0.getRowIndex (  ) ) + ">" );

      AssertEqualWithMessage ( -1, row0.getParentRowIndex (  ), "Expected that tree view MyParentIndexRowHandles row at index 0 has parent rowhandle <" + IntegerFunctions:: ToString ( -1 ) + ">, but was <" + IntegerFunctions:: ToString ( row0.getParentRowIndex (  ) ) + ">" );

      AssertEqualWithMessage ( "A", row0.getValuesLabelText (  ), "Expected that label Values has text <" + "A" + ">, but was <" + row0.getValuesLabelText (  ) + ">" );

    }

    {
      let row1: TreeViews_ViewModelMyParentIndexRowHandlesRow = actualRows[ 2 ];

      AssertEqualWithMessage ( 1, row1.getRowIndex (  ), "Expected that tree view MyParentIndexRowHandles row at index 1 has rowhandle <1>, but was <" + IntegerFunctions:: ToString ( row1.getRowIndex (  ) ) + ">" );

      AssertEqualWithMessage ( 0, row1.getParentRowIndex (  ), "Expected that tree view MyParentIndexRowHandles row at index 1 has parent rowhandle <" + IntegerFunctions:: ToString ( 0 ) + ">, but was <" + IntegerFunctions:: ToString ( row1.getParentRowIndex (  ) ) + ">" );

      AssertEqualWithMessage ( "A.B", row1.getValuesLabelText (  ), "Expected that label Values has text <" + "A.B" + ">, but was <" + row1.getValuesLabelText (  ) + ">" );

    }

    {
      let row2: TreeViews_ViewModelMyParentIndexRowHandlesRow = actualRows[ 3 ];

      AssertEqualWithMessage ( 2, row2.getRowIndex (  ), "Expected that tree view MyParentIndexRowHandles row at index 2 has rowhandle <2>, but was <" + IntegerFunctions:: ToString ( row2.getRowIndex (  ) ) + ">" );

      AssertEqualWithMessage ( -1, row2.getParentRowIndex (  ), "Expected that tree view MyParentIndexRowHandles row at index 2 has parent rowhandle <" + IntegerFunctions:: ToString ( -1 ) + ">, but was <" + IntegerFunctions:: ToString ( row2.getParentRowIndex (  ) ) + ">" );

      AssertEqualWithMessage ( "C", row2.getValuesLabelText (  ), "Expected that label Values has text <" + "C" + ">, but was <" + row2.getValuesLabelText (  ) + ">" );

    }

    {
      let row3: TreeViews_ViewModelMyParentIndexRowHandlesRow = actualRows[ 4 ];

      AssertEqualWithMessage ( 3, row3.getRowIndex (  ), "Expected that tree view MyParentIndexRowHandles row at index 3 has rowhandle <3>, but was <" + IntegerFunctions:: ToString ( row3.getRowIndex (  ) ) + ">" );

      AssertEqualWithMessage ( 2, row3.getParentRowIndex (  ), "Expected that tree view MyParentIndexRowHandles row at index 3 has parent rowhandle <" + IntegerFunctions:: ToString ( 2 ) + ">, but was <" + IntegerFunctions:: ToString ( row3.getParentRowIndex (  ) ) + ">" );

      AssertEqualWithMessage ( "C.D", row3.getValuesLabelText (  ), "Expected that label Values has text <" + "C.D" + ">, but was <" + row3.getValuesLabelText (  ) + ">" );

    }

  }
  
  public then_MyParentStringRowHandles_has_4_rows (  ) {
    let actualRows: TreeViews_ViewModelMyParentStringRowHandlesRow [] = this.sut.getMyParentStringRowHandlesTreeRows (  );

    AssertEqualWithMessage ( 4, actualRows->size (  ), "Expected that tree view MyParentStringRowHandles has 4 rows, but has " + IntegerFunctions:: ToString ( actualRows->size (  ) ) );

    {
      let row0: TreeViews_ViewModelMyParentStringRowHandlesRow = actualRows[ 1 ];

      AssertEqualWithMessage ( "HANDLE_A", row0.getRowHandle (  ), "Expected that tree view MyParentStringRowHandles row at index 0 has rowhandle <HANDLE_A>, but was <" + row0.getRowHandle (  ) + ">" );

      AssertEqualWithMessage ( "-", row0.getParentRowHandle (  ), "Expected that tree view MyParentStringRowHandles row at index 0 has parent rowhandle <" + "-" + ">, but was <" + row0.getParentRowHandle (  ) + ">" );

      AssertEqualWithMessage ( "A", row0.getValuesLabelText (  ), "Expected that label Values has text <" + "A" + ">, but was <" + row0.getValuesLabelText (  ) + ">" );

    }

    {
      let row1: TreeViews_ViewModelMyParentStringRowHandlesRow = actualRows[ 2 ];

      AssertEqualWithMessage ( "HANDLE_B", row1.getRowHandle (  ), "Expected that tree view MyParentStringRowHandles row at index 1 has rowhandle <HANDLE_B>, but was <" + row1.getRowHandle (  ) + ">" );

      AssertEqualWithMessage ( "HANDLE_A", row1.getParentRowHandle (  ), "Expected that tree view MyParentStringRowHandles row at index 1 has parent rowhandle <" + "HANDLE_A" + ">, but was <" + row1.getParentRowHandle (  ) + ">" );

      AssertEqualWithMessage ( "A.B", row1.getValuesLabelText (  ), "Expected that label Values has text <" + "A.B" + ">, but was <" + row1.getValuesLabelText (  ) + ">" );

    }

    {
      let row2: TreeViews_ViewModelMyParentStringRowHandlesRow = actualRows[ 3 ];

      AssertEqualWithMessage ( "HANDLE_C", row2.getRowHandle (  ), "Expected that tree view MyParentStringRowHandles row at index 2 has rowhandle <HANDLE_C>, but was <" + row2.getRowHandle (  ) + ">" );

      AssertEqualWithMessage ( "-", row2.getParentRowHandle (  ), "Expected that tree view MyParentStringRowHandles row at index 2 has parent rowhandle <" + "-" + ">, but was <" + row2.getParentRowHandle (  ) + ">" );

      AssertEqualWithMessage ( "C", row2.getValuesLabelText (  ), "Expected that label Values has text <" + "C" + ">, but was <" + row2.getValuesLabelText (  ) + ">" );

    }

    {
      let row3: TreeViews_ViewModelMyParentStringRowHandlesRow = actualRows[ 4 ];

      AssertEqualWithMessage ( "HANDLE_D", row3.getRowHandle (  ), "Expected that tree view MyParentStringRowHandles row at index 3 has rowhandle <HANDLE_D>, but was <" + row3.getRowHandle (  ) + ">" );

      AssertEqualWithMessage ( "HANDLE_C", row3.getParentRowHandle (  ), "Expected that tree view MyParentStringRowHandles row at index 3 has parent rowhandle <" + "HANDLE_C" + ">, but was <" + row3.getParentRowHandle (  ) + ">" );

      AssertEqualWithMessage ( "C.D", row3.getValuesLabelText (  ), "Expected that label Values has text <" + "C.D" + ">, but was <" + row3.getValuesLabelText (  ) + ">" );

    }

  }
  
  public then_MyTreeViewElements_has_2_rows (  ) {
    let actualRows: TreeViews_ViewModelMyTreeViewElementsRow [] = this.sut.getMyTreeViewElementsTreeRows (  );

    AssertEqualWithMessage ( 2, actualRows->size (  ), "Expected that tree view MyTreeViewElements has 2 rows, but has " + IntegerFunctions:: ToString ( actualRows->size (  ) ) );

    {
      let row0: TreeViews_ViewModelMyTreeViewElementsRow = actualRows[ 1 ];

      AssertEqualWithMessage ( 0, row0.getRowIndex (  ), "Expected that tree view MyTreeViewElements row at index 0 has rowhandle <0>, but was <" + IntegerFunctions:: ToString ( row0.getRowIndex (  ) ) + ">" );

      AssertEqualWithMessage ( 0, row0.getRowDepth (  ), "Expected that tree view MyTreeViewElements row at index 0 has parent rowhandle <" + IntegerFunctions:: ToString ( 0 ) + ">, but was <" + IntegerFunctions:: ToString ( row0.getRowDepth (  ) ) + ">" );

      AssertTrueWithMessage ( row0.getIsIncludeCheckBoxChecked (  ), "Expected that checkbox Include is checked, but was <" + ( row0.getIsIncludeCheckBoxChecked (  ) ? "checked" : "unchecked" ) + ">" );

    }

    {
      let row1: TreeViews_ViewModelMyTreeViewElementsRow = actualRows[ 2 ];

      AssertEqualWithMessage ( 1, row1.getRowIndex (  ), "Expected that tree view MyTreeViewElements row at index 1 has rowhandle <1>, but was <" + IntegerFunctions:: ToString ( row1.getRowIndex (  ) ) + ">" );

      AssertEqualWithMessage ( 1, row1.getRowDepth (  ), "Expected that tree view MyTreeViewElements row at index 1 has parent rowhandle <" + IntegerFunctions:: ToString ( 1 ) + ">, but was <" + IntegerFunctions:: ToString ( row1.getRowDepth (  ) ) + ">" );

      AssertEqualWithMessage ( "D", row1.getDescriptionLabelText (  ), "Expected that label Description has text <" + "D" + ">, but was <" + row1.getDescriptionLabelText (  ) + ">" );

    }

  }
}